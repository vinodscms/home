<html ng-app="alphaApp">
  <head>
    <meta charset="utf-8">
    <title>Percent calculator</title>
    <!--<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.1/angular.min.js"></script>-->
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <link href="style.css" rel="stylesheet" />
    <script>
    
      var alphaApp = angular.module('alphaApp', []);
      alphaApp.controller('AlphaCtrl', ['$scope',  function (scope){
        scope.percent = "0.0";
        scope.myFunc = function() {
          scope.temp = 0.0;
          if(scope.v1 && scope.v2 && angular.isNumber(scope.v1) && angular.isNumber(scope.v2)) {
              if(scope.v2>scope.v1) {
                  //scope.temp = ((scope.v2/scope.v1) - 1) * 100;
                  scope.temp = (scope.v2-scope.v1) / scope.v1 * 100; 
                  scope.temp = scope.temp.toFixed(2);
                  scope.percent = "+" +scope.temp;
              } else {
                  //scope.temp = (scope.v2/scope.v1)  * 100;
                  scope.temp = (scope.v1-scope.v2) / scope.v1 * 100;   
                  scope.temp = scope.temp.toFixed(2);
                  scope.percent = "-" + scope.temp;
              }
          }          
        };
        
        scope.percent2 = "0.0";
        scope.myFunc2 = function() {
          if(scope.v3 && scope.v4 && angular.isNumber(scope.v3) && angular.isNumber(scope.v4)) {
              scope.percent2 = (scope.v3/scope.v4*100).toFixed(2);              
          }          
        };
        
        scope.percent3 = "0.0";
        scope.myFunc3 = function() {
          scope.temp3 = 0.0;
          if(scope.v5 && scope.v6 && angular.isNumber(scope.v5) && angular.isNumber(scope.v6)) {
              scope.percent3 = (scope.v6/100*scope.v5).toFixed(2);              
          }          
        };
        
        scope.ratio = function(v) {
          if(v=='v9'){
            if(scope.v9 && angular.isNumber(scope.v9) ) {
              scope.v10 = (scope.v8/scope.v7)*scope.v9.toFixed(2);
            }
          } else {
            if(scope.v10 && angular.isNumber(scope.v10) ) {
              scope.v9 = scope.v10/(scope.v8/scope.v7).toFixed(2);
            }
          }
        };
        
        
      }]);
    </script>
    <style>
      td {
        border: 1px solid black; 
        width:450px; 
        padding:15px;
      }
      tr:nth-child(even){background-color: #f2f2f2}
    </style>
  </head>
  <body ng-controller="AlphaCtrl">
    <nav class="{{active}}">
      <a href="https://vinodscms.github.io/callsign/" class="callsign">Call Sign</a>
      <a href="https://vinodscms.github.io/home/percent.html" class="percent">Percentage</a>
          <a href="https://vinodscms.github.io/home/someinfo.txt" class="someinfo">Some Info</a>

      <a href="javascript:void(0);" ng-click="show = !show" class="location">Location</a>
    </nav>
    <table style="width:450px;">
      <tr>
        <td><input style="color:blue;width:80px;" ng-model="v1" type="number" min="0" ng-change="myFunc()" type="text"/>  
        to <input style="color:blue;width:80px;" ng-model="v2" type="number" min="0" ng-change="myFunc()" type="text"/>
        &nbsp;is <span style="color:blue;">{{percent}}% </span>change </td>
      </tr>   
     
      <tr>
        <td><input style="color:blue;width:80px;" ng-model="v3" type="number" min="0" ng-change="myFunc2()" type="text"/>  
          is <span style="color:blue;">{{percent2}}%</span> of <input style="color:blue;width:80px;" ng-model="v4" type="number" min="0" ng-change="myFunc2()" type="text"/></td>
      </tr> 
      
      <tr>
        <td><input style="color:blue;width:80px;" ng-model="v5" type="number" min="0" ng-change="myFunc3()" type="text"/>% of  
          <input style="color:blue;width:80px;" ng-model="v6" type="number" min="0" ng-change="myFunc3()" type="text"/>
          &nbsp; is&nbsp;<span style="color:blue;">{{percent3}}</span></td>
      </tr>   
      
      <tr>
        <td>
          <input style="color:blue;width:80px;" ng-model="v7" type="number" min="0" type="text"/><b>:</b>
          <input style="color:blue;width:80px;" ng-model="v8" type="number" min="0" type="text"/>
          &nbsp; <b>=</b> &nbsp;
          <input style="color:blue;width:80px;" ng-model="v9" type="number" min="0" ng-change="ratio('v9')" type="text"/><b>:</b>
          <input style="color:blue;width:80px;" ng-model="v10" type="number" min="0" ng-change="ratio('v10')" type="text"/>
        </td>
      </tr>  
      
    </table>
  </body>
</html>
